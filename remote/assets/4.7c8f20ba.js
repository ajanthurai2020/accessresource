(window.webpackJsonpeinvoicing=window.webpackJsonpeinvoicing||[]).push([[4],{106:function(t,e,o){t.exports={"invoice-table-element":"InvoiceTable_invoice-table-element__20Z9b",invoiceTableElement:"InvoiceTable_invoice-table-element__20Z9b","title-style":"InvoiceTable_title-style__2UTVS",titleStyle:"InvoiceTable_title-style__2UTVS"}},107:function(t,e,o){"use strict";o.r(e);var a=o(14),n=o(0),c=o.n(n),r=o(9),i=o.n(r),l=o(105),s=o(102),u=o(39),m=o(27),d=o.n(m),b=o(24);function p(t,e,o,a,n,c,r){try{var i=t[c](r),l=i.value}catch(t){return void o(t)}i.done?e(l):Promise.resolve(l).then(a,n)}var f=function(t){return function(){var t,e=(t=d.a.mark((function t(e){var o,a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={type:b.b},e(o),a=JSON.parse(sessionStorage.getItem("oidc.user:https://preprodidentity.accessacloud.com:access.wdk.dashboard")||sessionStorage.getItem("oidc.user:https://preprodidentity.accessacloud.com:access.wdk.dashboard.devkit")||'{"access_token":"aa","token_type": "Bearer"}'),console.log(a.access_token),console.log(a.token_type),n=new Headers({"Content-Type":"text/plain","X-Custom-Header":"hello world",Authorization:a.token_type+" "+a.access_token}),t.next=8,fetch("https://gateway.constitution.aws.attachecloud.com/api/Einvoicing/get",{method:"get",mode:"cors",headers:n}).then((function(t){return 200!==t.status&&(console.log("Looks like there was a problem. Status Code: "+t.status),e({type:b.a,payload:{errorMessage:"Looks like there was a problem. Status Code: "+t.status}})),console.log(t),t.text()})).then((function(t){console.log(t),e({type:b.c,payload:{newInvoice:JSON.parse(t)}})})).catch((function(t){console.log("Fetch Error :-S",t),e({type:b.a,payload:{errorMessage:t}}),e({type:b.c,payload:{newInvoice:[{documentNumber:"1",docDate:"2011-07-08T00:00:00",customerName:"Demo Data1",contactName:"Demooo1",totalExGST:2,totalGST:.2,invoiceTotal:2.2,status:"pending"},{documentNumber:"2",docDate:"2011-08-08T00:00:00",customerName:"Demo Data2",contactName:"Demooo2",totalExGST:20,totalGST:2,invoiceTotal:22,status:"pending"},{documentNumber:"3",docDate:"2011-08-01T00:00:00",customerName:"Demo Data3",contactName:"Demooo3",totalExGST:200,totalGST:20,invoiceTotal:220,status:"pending"},{documentNumber:"9",docDate:"2011-08-01T00:00:00",customerName:"Demo Data3",contactName:"Demooo3",totalExGST:200,totalGST:20,invoiceTotal:220,status:"failed"},{documentNumber:"8",docDate:"2011-08-01T00:00:00",customerName:"Demo Data3",contactName:"Demooo3",totalExGST:2e3,totalGST:200,invoiceTotal:2200,status:"success"},{documentNumber:"4",docDate:"2011-08-01T00:00:00",customerName:"Demo Data3",contactName:"Demooo3",totalExGST:100,totalGST:20,invoiceTotal:120,status:"failed"},{documentNumber:"5",docDate:"2011-08-01T00:00:00",customerName:"Demo Data3",contactName:"Demooo3",totalExGST:200,totalGST:20,invoiceTotal:220,status:"success"},{documentNumber:"6",docDate:"2011-08-01T00:00:00",customerName:"Demo Data3",contactName:"Demooo3",totalExGST:200,totalGST:20,invoiceTotal:220,status:"pending"},{documentNumber:"7",docDate:"2011-08-01T00:00:00",customerName:"Demo Data3",contactName:"Demooo3",totalExGST:200,totalGST:20,invoiceTotal:220,status:"success"},{documentNumber:"10",docDate:"2012-08-01T00:00:00",customerName:"Demo Data10",contactName:"Demooo3",totalExGST:99912,totalGST:2039,invoiceTotal:100203,status:"failed"},{documentNumber:"10",docDate:"2012-08-01T00:00:00",customerName:"Demo Data10",contactName:"Demooo3",totalExGST:99912,totalGST:2039,invoiceTotal:100203,status:"success"},{documentNumber:"10",docDate:"2012-08-01T00:00:00",customerName:"Demo Data10",contactName:"Demooo3",totalExGST:99912,totalGST:2039,invoiceTotal:100203,status:"failed"},{documentNumber:"10",docDate:"2012-08-01T00:00:00",customerName:"Demo Data10",contactName:"Demooo3",totalExGST:99912,totalGST:2039,invoiceTotal:100203,status:"success"},{documentNumber:"10",docDate:"2012-08-01T00:00:00",customerName:"Demo Data10",contactName:"Demooo3",totalExGST:99912,totalGST:2039,invoiceTotal:100203,status:"pending"},{documentNumber:"10",docDate:"2012-08-01T00:00:00",customerName:"Demo Data10",contactName:"Demooo3",totalExGST:99912,totalGST:2039,invoiceTotal:100203,status:"pending"},{documentNumber:"11",docDate:"2022-08-01T00:00:00",customerName:"Demo Data10",contactName:"Demooo3",totalExGST:999126,totalGST:2039,invoiceTotal:1002037,status:"success"},{documentNumber:"12",docDate:"2022-08-01T00:00:00",customerName:"Demo Data15",contactName:"Demooo3",totalExGST:999126,totalGST:2039,invoiceTotal:1002037,status:"failed"},{documentNumber:"13",docDate:"2022-08-01T00:00:00",customerName:"Demo Data10",contactName:"Demooo3",totalExGST:999126,totalGST:2039,invoiceTotal:1002037,status:"success"},{documentNumber:"14",docDate:"2022-08-01T00:00:00",customerName:"Demo Data10",contactName:"Demooo3",totalExGST:99,totalGST:20,invoiceTotal:10020,status:"failed"},{documentNumber:"15",docDate:"2022-08-01T00:00:00",customerName:"Demo Data10",contactName:"Demooo3",totalExGST:9991,totalGST:209,invoiceTotal:10037,status:"failed"}]}})}));case 8:t.sent;case 9:case"end":return t.stop()}}),t)})),function(){var e=this,o=arguments;return new Promise((function(a,n){var c=t.apply(e,o);function r(t){p(c,a,n,r,i,"next",t)}function i(t){p(c,a,n,r,i,"throw",t)}r(void 0)}))});return function(t){return e.apply(this,arguments)}}()},g=o(106),T=o.n(g),v=o(5);function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function D(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){x(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function x(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==o)return;var a,n,c=[],r=!0,i=!1;try{for(o=o.call(t);!(r=(a=o.next()).done)&&(c.push(a.value),!e||c.length!==e);r=!0);}catch(t){i=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw n}}return c}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return S(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}var N=T.a.invoiceTableElement,j=(T.a.titleStyle,[{status:"pending",highlight:'{"backgroundColor": "#efcc89"}'},{status:"success",highlight:'{"backgroundColor": "#b2cfbb"}'},{status:"failed",highlight:'{"backgroundColor": "#cf4e4e"}'}]),O=function(t){t.title;var e,o=Object(u.c)((function(t){return t.InvoiceReducer})),r=Object(a.usePidgetSettings)();e=r.remoteEntry;var i=y(c.a.useState(1),2),l=i[0],m=i[1],d=y(c.a.useState(void 0),2),b=d[0],p=d[1],g=o.Invoices.map((function(t){return t.status?D(D({},j.find((function(e){return e.status==t.status}))),t):D(D({},t),j[Math.floor(Math.random()*j.length)])})).slice(8*(l-1),8*l),T=Object(u.b)();Object(n.useEffect)((function(){console.log(e),T(f())}),[T]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(s.TagAppHeader,{heading:"EInvoice",headingAccent:"atoll",accent:"atoll",icon:"Search",iconAccent:"gulfstream",option1:"refresh",option1Icon:"Refresh",onOptionClick:function(t){return console.log(t.detail.text),"refresh"==t.detail.text?void T(f()):null},option1Accent:"atoll",menuItems:[{icon:"Delete",name:"remove",text:"Remove"}],children:Object(v.jsxs)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between",margin:"5px 20px 0 7px"},children:[Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(v.jsx)(s.TagText,{type:"span",text:"Level",accent:"title",textStyle:{fontSize:"18px",fontWeight:500}}),Object(v.jsx)(s.TagCombobox,{textField:"level",valueField:"level",value:"Gold",borderless:!0,inputDisabled:!0,inputStyle:{backgroundColor:"transparent",fontWeight:500,fontSize:"18px"},style:{marginLeft:"5px",width:"80px"},"data-id":"level",data:[{level:"Gold"},{level:"Silver"},{level:"Bronze"}]})]}),Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(v.jsx)(s.TagText,{type:"span",text:"Financial Year",accent:"title",textStyle:{marginLeft:"auto",fontSize:"18px",fontWeight:500}}),Object(v.jsx)(s.TagCombobox,{textField:"year",valueField:"year",value:"2018",borderless:!0,inputDisabled:!0,inputStyle:{backgroundColor:"transparent",fontSize:"28px",fontWeight:700,marginTop:"-8px"},style:{marginLeft:"5px",width:"70px"},"data-id":"year",data:[{year:"2018"},{year:"2017"},{year:"2016"}]})]})]})}),Object(v.jsxs)("div",{className:N+" container-fluid","data-testid":"current-time",children:[o.loading&&Object(v.jsx)("div",{children:"Loading data"}),null!=o.errorMessage&&Object(v.jsxs)("div",{children:["there are errors ",JSON.stringify(o.errorMessage)]}),o.Invoices.length>0&&Object(v.jsx)(s.TagTable,{button:"Action",buttonIcon:"Access",buttonIconAccent:"atoll",onButtonClick:function(t){return console.log(b),p(t.detail.row)},columns:[{name:"documentNumber",caption:"Invoice Number"},{name:"docDate",caption:"Invoice Date"},{name:"customerName",caption:"Customer Name"},{name:"contactName",caption:"Contact Name"},{name:"totalExGST",caption:"Total (excluding GST)",valueMapper:function(t,e){return"$".concat(t)}},{name:"totalGST",caption:"Tax Amount",valueMapper:function(t,e){return"$".concat(t)}},{name:"invoiceTotal",caption:"Document Total",valueMapper:function(t,e){return"$".concat(t)}},{name:"status",caption:"status",cellStyleField:"highlight"}],data:g,page:l,pageSize:8,pageCount:Math.ceil(o.Invoices.length/8),onPageRequest:function(t){return m(t.detail.page)}}),Object(v.jsxs)(s.TagModal,{heading:"Einvoice Details",visible:null!=b,onClosed:function(){return p(void 0)},children:[Object(v.jsx)("div",{children:JSON.stringify(b)}),Object(v.jsx)("div",{children:Object(v.jsx)(s.TagButton,{text:"Close",onButtonClick:function(){return p(void 0)},icon:"Bug",buttonStyle:{margin:"auto",background:"red",color:"white"}})})]})]})]})},G=function(t){var e=Object(l.e)(),o=Object(a.usePidgetLocation)().setPidgetLocation;return Object(n.useEffect)((function(){o({url:"".concat(e.pathname).concat(e.search),title:{breadcrumb:[t.title]}})}),[e,t.title,o]),Object(v.jsx)(v.Fragment,{children:t.children})};e.default=function(){var t=Object(a.usePidgetElement)({onRemove:function(){var e=t.getElementsByClassName("product-widget")[0];i.a.unmountComponentAtNode(e)}}).element,e=Object(l.d)(),o=Object(n.useCallback)((function(t){e.push(t)}),[e]),c=Object(a.usePidgetLocation)({onLocationChanged:o}).pidgetLocation;Object(n.useEffect)((function(){c&&e.push(c)}),[c,e]);return Object(v.jsx)(l.c,{children:Object(v.jsx)(l.b,{exact:!0,path:"/",children:Object(v.jsx)(G,{title:"Home",children:Object(v.jsx)(O,{title:"Invoice Dashboard"})})})})}}}]);